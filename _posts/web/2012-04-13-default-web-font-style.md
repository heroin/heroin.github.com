---
layout: post
title: 默认Web字体样式
keywords: web, 字体, css
category : web
tags : [web, 字体]
---

<p>通常用户看到的页面的样式(css)会受到三层控制:</p>

<ol>
<li>第一层是浏览器的默认样式;</li>
  <li>第二层是网页定义样式;</li>
  <li>第三层是用户自定义样式.</li>
</ol>

<p>和CSS一样，后面的优先级高于前面的，也就是说网页定义样式可以覆盖浏览器的默认样式，
而用户自定义样式优先级最高。</p>

<p>实际情况是虽然浏览器都或多或少提供了用户自定义样式的功能，
但是极少数会有用户去自定义，一般用也是高级用户。</p>

<p>而浏览器默认的样式往往在不同的浏览器、不同的语言版本甚至不同的系统版本都有不同的设置，
这就导致如果直接利用默认样式的页面在各个浏览器下显示非常不一致，
于是就有了类似 <a href="http://developer.yahoo.com/yui/3/cssreset/">YUI的reset</a> 之类用来尽量重写浏览器的默认设置保证各个浏览器样式一致性的做法。</p>

<p>拿字体来说，各个浏览器默认的字体种类、字体大小和字体行高都不一样，
比如IE8的中文版在Windows XP下显示网页时默认字体是宋体，而英文版肯定不会如此。
所以我们需要统一设置默认的字体样式，以便实现一致的显示效果来保证设计的一致性和提高开发效率。</p>

<p>以后准备使用如下默认字体样式：</p>

<pre><code>body{
  font: 12px/1.5 arial;
}
</code></pre>

<h3>字体：arial</h3>

<p>我们页面的绝大部分内容字符都是中文，
毫无疑问目前为止在网页上最常用也是最通用的显示中文的字体是宋体，
但是宋体在显示英文、数字和英文符号时过于糟糕，比如?字符，
所以我们一般期望通过CSS来实现用更好的字体样式来显示它们，然后用宋体来显示中文和中文符号。</p>

<p>之所以选择arial是因为：</p>

<ul>
<li><p>Windows和Mac都预装了这款字体，应该是使用最广泛的网页字体了。
它的潜在对手tahoma和helvetica就没有这么幸运了。</p></li>
<li><p>视觉设计的专业人士可能会认为在Windows中使用tahoma、在Mac中使用helvetica更好，
比如淘宝的默认字体样式是<code>font: 12px/1 Tahoma, Helvetica, Arial, "\5b8b\4f53", sans-serif;</code>
这是一个很不错的选择，但是你也会发现Google、YAHOO、Youtube、Bing甚至MSN的新版都
使用arial作为第一默认字体。
所以从美观和可读性上来讲arial应该是完全可以接受的。</p></li>
<li><p>一般情况下设置font-family都会在最后设置通用字体族以保证其安全性，
比如Google的设置为 <code>font-family:arial,sans-serif;</code>
但是至少在非中文版的Win7下当编码是GBK时，IE8会因sans-serif来渲染宋体，
导致字体出现变形，这就是为什么淘宝需要在sans-serif前加上宋体而Google无需这样做的原因。</p></li>
<li><p>因为中文字体的选择非常有限，所以目前所有的主流浏览器都设置使用宋体来显示中文。
Baidu的首页和搜索结果页使用<code>font-family:arial;</code>可以从侧面说明这样做的安全性。
可能有人注意到Firefox中国版默认显示的中文字体是微软雅黑，
这是因为谋智网络擅自修改了用户自定义样式，不允许网页的样式覆盖浏览器设置的样式。
也是由于类似的情况，我们要弹性设计网页非常重要。</p></li>
</ul><p>使用英文字体作为第一默认字体会导致的问题之一就是中英文以及符号混排时的对齐问题、
通过设置行高和hasLayout能解决绝大部分情况，但是都不会很完美，
如果把字体改成“宋体”能彻底的解决问题。</p>

<p>很明显，这个问题只出现在IE上。
所以，如果你的网站很少使用英文、数字和英文符号，
那么直接设置 <code>{font-family:\5b8b\4f53;}</code> 也是很合理的选择。</p>

<h3>大小：12px</h3>

<ol>
<li>12px是宋体能显示的极限，虽然微软雅黑能显示更小的字体，但目前的应用环境尚未成熟。
由于宋体基本上是目前显示中文唯一的通用Web字体，所以12px成为最常用的字体大小。
我们当然可以依据产品的需要来修改这个默认值。</li>
<li>不用考虑基于字体大小（em）的设计。</li>
<li>在Chrome3.0之后的中文版中，字体大小最小值是12px，比如你设置最小字体为10px，最后也变成12px。</li>
</ol><h3>行高：1.5倍</h3>

<ul>
<li> 这是一个经验值, 不同的产品对这个值要求可能不同, 但我们一般会设置最常用的为默认值. </li>
</ul><p>比如YUI的font中是<code>font:13px/1.231 arial,helvetica,clean,sans-serif;</code>
   即字体大小默认值是13px，行高是13*1.231=16.003px，默认的行高是默认字体的1.231倍。
   对于中文来说，常用的字体大小12px、14px、16px、18px等偶数大小，
   在IE6和IE7设置其行高也为偶数能解决一些特殊情况下的字体对其问题。</p>

<ul>
<li><p>在IE6和IE7中，行高值必须大于字体的2px才能保证字体的完整显示或当其作为链接时能有效显示下划线。</p></li>
<li><p>设置line-height时，注意不要使用单位（包括%在内），
因为子节点会继承经过运算后的line-height值，
所以当使用单位后浏览器会把line-height计算成第一次定义的绝对值，
而不会随着字体大小的变化而变化，而无单位的数值表示是所在容器的font-size的倍数，
所以设置为无单位的数值是最佳选择。</p></li>
<li><p>深入CSS 行高非常有利于理解line-height，值得一读。</p></li>
</ul><h3>性能和效率</h3>

<ol>
<li>大部分平台都有arial，减少浏览器的查找时间。</li>
<li>代码最少，书写方便。arial基本上是名字最短的字体了，可以节约CSS的大小。</li>
<li>所有的字母都小写，目前Google就是这样做的，好处是既可以编写更快也能提升Gzip压缩的效率。</li>
<li>中文最好用unicode表示，比如使用宋体是<code>{font-family:\5b8b\4f53;}</code>，
使用微软雅黑是<code>{font-family:\5fae\8f6f\96c5\9ed1;}</code>，
这样的好处是避免编码问题，同时能得到所有的主流浏览器的支持。</li>
<li>使用正确的字体种类写法，避免使用引号，这样可以缩小CSS的大小。</li>
</ol><p>中文字体可以按上一条方式来编写。</p>

<h3>未来</h3>

<ol>
<li><p>通过对中英文及符号混排的测试, 我发现微软雅黑其实表现相当不错, 
包括英文数字和英文字符以及在IE6和IE7的显示效果上, 
但唯一的遗憾是在XP下如果安装了微软雅黑字体的用户没有打开“使用屏幕字体的边缘平滑”选项的话，
在Firefox、Safari和Opera、特别是IE6下会非常模糊难以辨认。
针对这个问题目前并没有很好的解决方案，所以只有等到IE6使用比率非常小的时候才可能正式的使用它。
或许需要到2014年，XP死掉的时候。</p></li>
<li><p>虽然很早就有了@font-face，但是浏览器的支持、网速和商业问题，导致它很少被应用。
最近关于字体的好消息是Firefox3.6将支持Web Open Font Forma。
关于Web字体未来的相关信息可以看Web 字体的未来、关于 Web 字体：
现状与未来和再谈 Web 字体的现状与未来。</p></li>
</ol>